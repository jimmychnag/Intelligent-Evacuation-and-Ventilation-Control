C51 COMPILER V9.51   AUTODOOR                                                              07/27/2025 19:24:08 PAGE 1   


C51 COMPILER V9.51, COMPILATION OF MODULE AUTODOOR
OBJECT MODULE PLACED IN AutoDoor.obj
COMPILER INVOKED BY: C:\Keil\C51\BIN\C51.EXE User\AutoDoor.c BROWSE INCDIR(.\Hardware;.\Library;.\System;.\User) DEBUG O
                    -BJECTEXTEND PRINT(.\AutoDoor.lst) TABS(2) OBJECT(AutoDoor.obj)

line level    source

   1          #include <REGX51.H>
   2          #include "DS18B20.h"
   3          #include "Delay.h"
   4          #include "INT.h"
   5          #include "Timer0_Servo.h"
   6          #include "LCD1602.h"
   7          #include "Uart.h"
   8          
   9          #define LED P0
  10          #define BUZZER P3_4
  11          
  12          float T;
  13          
  14          void main()
  15          {
  16   1          DS18B20_ConvertT();
  17   1          delay(60000);
  18   1        
  19   1          INT_Init();
  20   1          Timer0_Init();
  21   1          UART_Init();
  22   1      
  23   1          initial();
  24   1          dis_p(1,1);
  25   1          WriteString("TEMP:");
  26   1          dis_p(2,9);
  27   1          WriteString("Right V");
  28   1          dis_p(2,1);
  29   1          WriteString("Left V");
  30   1          
  31   1          while(1)
  32   1          {
  33   2            UART_Transmit(ton_Servo >> 8);   // 傳送高位
  34   2            UART_Transmit(ton_Servo & 0xFF); // 傳送低位
  35   2            
  36   2            DS18B20_ConvertT();
  37   2            T = DS18B20_ReadT();
  38   2            WriteFloat(T,1,7);
  39   2            
  40   2            if(flag1 == 0 && flag2 == 0)     //呼吸窗模式
  41   2            {
  42   3                // 20~24度 對應 1200~2200 ton_Servo
  43   3                ton_Servo = 250*(T-8)-3800;
  44   3                // 傳送伺服角度高位與低位
  45   3                
  46   3                delay(50000); // 角度更新間隔
  47   3            }
  48   2            else                            //警報模式
  49   2            {
  50   3                ton_Servo = 2200; //警報時全開
  51   3              
  52   3                //警示燈+蜂鳴聲
  53   3                LED = 0x0f;
  54   3                BUZZER = 1;
C51 COMPILER V9.51   AUTODOOR                                                              07/27/2025 19:24:08 PAGE 2   

  55   3                delay(5000);                        
  56   3                LED = 0xf0;
  57   3                BUZZER = 0;
  58   3                delay(5000);
  59   3                
  60   3                if(flag1 == 1)
  61   3                {
  62   4                    dis_p(2,9);
  63   4                    WriteString("Right X");
  64   4                }
  65   3                if(flag2 == 1)
  66   3                {
  67   4                    dis_p(2,1);
  68   4                    WriteString("Left X");
  69   4                }
  70   3            }
  71   2          }//end while
  72   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    241    ----
   CONSTANT SIZE    =     36    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      4    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
